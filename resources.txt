# randomize canvas fingerprint
randomcanvas.js application/javascript
(function() {
	function randomRGBA() {
	    const clr = () => Math.round(Math.random()*255)
	    return `rgba(${clr()},${clr()},${clr()},${Math.random().toFixed(1)})`
	}
	const canvas = window.document.createElement('canvas')
	const txt = '💩 Private'
	const context = canvas.getContext('2d')
	context.textBaseline = 'top'
	context.font = "14px 'Arial'"
	context.textBaseline = 'alphabetic'
	context.fillStyle = randomRGBA()
	context.fillRect(125, 1, 62, 20)
	context.fillStyle = randomRGBA()
	context.fillText(txt, 2, 15)
	context.fillStyle = randomRGBA()
	context.fillText(txt, 4, 17)
	const newDataURI = canvas.toDataURL()
	console.log(newDataURI)
	const cachedData = function(newDataURI) {
		return (typeOfAttempt='') => () => {
			console.warn(`🐳 ${typeOfAttempt}HTMLCanvasElement.toDataURL accessed: ${newDataURI}`)
			return newDataURI
		}
	}
	const randomcanvas = cachedData(newDataURI)
	function redefine(root, randomcanvas, type = '') {
		console.log(randomcanvas)
		console.log(type)
		Object.defineProperties(
			root.HTMLCanvasElement.prototype,
			{
				'toDataURL':  { value: randomcanvas(type) }
			}
		)
	}
	redefine(window, randomcanvas)
	const iframes = document.getElementsByTagName('iframe')
	;[...iframes].forEach(frame => redefine(frame.contentWindow, randomcanvas, '😡 Aggressive - '))
})();
