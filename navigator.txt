# add subtle noise to navigator
spoofnavigator.js application/javascript
(function() {
	const evenRand = (min, max) =>
		(Math.floor(Math.random() * ((max/2) - min + 1)) + min)*2
	const rand = (min, max) =>
		(Math.floor(Math.random() * (max - min + 1)) + min)
	const props = {
		getBattery: undefined,
		mimeTypes: undefined,
		plugins: undefined,
		maxTouchPoints: rand(0, 10),
		hardwareConcurrency: rand(1, 16),
		deviceMemory: evenRand(2, 32),
	}
	const hash = [
		props.maxTouchPoints,
		props.hardwareConcurrency,
		props.deviceMemory
	].join('.')
	const reads = []
	const watcher = function(prop) {
		const style = `padding:4px 0px;color:green;background:#c9f3c92e;`
		const propWasNotRead = !reads.filter(item => item == prop)[0]
		propWasNotRead?
		console.log(`%cSpoofing ${prop} in new hash (${hash}): ${props[prop]}`, style):
		reads.push(prop)
		return
	}
	// difinify
	function definify(props) {
		const redefinedProps = {}
		Object.keys(props).forEach(prop => {
			redefinedProps[prop] = { value: (()=> { watcher(prop);return props[prop] })() }
		})
		return redefinedProps
	}
	function redefine(root) {
		Object.defineProperties(root.navigator, definify(props))
	}
	redefine(window)
})()
